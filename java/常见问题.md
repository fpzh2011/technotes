# Java常见问题

## Scoping

外层scope已经定义的变量，不能再在内层scope中定义。这一点和C/C++不同。例如，下面代码编译会报错：
```java
int x;
{
	int x;
}
```

## 创建对象、引用对象

Java中，除了`int`这样的原生类型外，都是类和对象。class类型的变量名都是对象的引用。`int`等原生类型是通常意义的变量（类似C/C++）。

Java中的函数传值、包括函数内的变量赋值，都是值传递，对于class类型的变量，传递的是引用。（Java编程思想，P78，93）

Java创建对象的方式：
* 一般是用`new`。
* java.lang.reflect.Constructor类的newInstance()方法。
* 调用对象的clone()方法。
* 运用反序列化手段，调用java.io.ObjectInputStream对象的readObject()方法。

类似 `String s = "abc"`，其实是先`new`一个对象，再将对象引用赋值给`s`。

Java中所有对象的存储空间都是在堆中分配的，但是对象的引用却是在栈中分配。`int`等原生类型变量也是在栈中分配内存。
**静态对象呢？**

class之中属于基本类型（int等）的数据，会被自动初始化为0。对象引用会被初始化为null。（Java编程思想，P193）

Java允许`blank final`，即类的成员声明为final但不初始化，而是延迟到构造函数中初始化。（Java编程思想，P211）

## 语言独特之处

Java中，函数仅能作为class的一部分（Java编程思想，P78）。即使是工具类的`public static`函数，也要依附于特定的类。

Java中，整数等原生类型都是带符号的（Java编程思想，P72）。Java不存在`unsigned`概念和关键字。为此，Java增加了无符号的右移运算符`>>>`，无论是否有符号，右移一律补0（Java编程思想，P103）。

循环语句中的`continue/break`后面如果跟着标记，可以跳出多层循环嵌套。

Java可以在构造函数中调用另一个构造函数（Java编程思想，P144/145），以完成某种通用的构造逻辑。但是C++是不允许这样的，只能创建一个函数（如init）完成委托构造逻辑。





